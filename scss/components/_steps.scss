.steps {
    &__container {
        overflow: hidden; 
        width: 100%;
        // Залишаємо тільки вертикальні падінги для тіней
        // padding: 40px 16px;

        @include mq(tablet) {
            overflow: visible;
            // Повертаємо падінги контейнера на десктопі, якщо потрібно
            // padding: 0 16px; 
        }
    }

    &__pre-title {
        margin-bottom: 8px;
        max-width: 180px;
        font-size: 12px;
        font-weight: 400;
        letter-spacing: 0.02em;
        line-height: 1.25;
        color: $color-akcent;

        @include mq(tablet) {
            margin-bottom: 24px;
            max-width: 240px;
            font-size: 16px;
        }

        @include mq(monitor) {
            max-width: 360px;
            font-size: 24px;
        }
    }

    &__title {
        margin-bottom: 24px;
        font-size: clamp(1.75rem, 1.571rem + 0.89vw, 2rem);
        font-weight: 400;
        line-height: 1.1;
        letter-spacing: 0.02em;
        color: $color-black;

        @include mq(tablet) {
            margin-bottom: 48px;
            max-width: 620px;
            font-size: 48px;
        }

        @include mq(desktop) {
            max-width: 820px;
            font-size: 64px;
        }
    }

    &__list {
        position: relative;
        margin: 0;
        // margin-left: -16px;
        padding: 0;
        display: flex; // Для Swiper на мобільці
        // gap: 12px;
        box-sizing: border-box;
        
        @include mq(tablet) {
            display: grid;
            grid-template-columns: repeat(3, 1fr); // 3 колонки
            gap: 24px;
// ВАЖЛИВО: скидаємо стилі Swiper, які він додає інлайново
            transform: none !important; 
            width: 100% !important;
        }
    }

    &__item {
        width: 268px;
        flex-shrink: 0;
        height: auto; // Для однакової висоти карток у Swiper
        
        @include mq(tablet) {
            width: 100%;
            &--wide {
                width: 100%;
                grid-column: 1 / -1; // 7-й крок на всю ширину
            }
        }
    }

    &__tab {
        height: 100%;
        min-height: 156px;
        padding: 24px;
        background: $color-white;
        border-radius: 16px;
        box-shadow: 0px 20px 20px -10px rgba(149, 149, 149, 0.25);
        display: flex;
        flex-direction: column;
        gap: 16px;
                
        &--wide {
                    
            @include mq(tablet) {
                position: relative;
                display: flex;
                flex-direction: row;
                gap: 24px;
                padding: 30px 200px 30px 140px;
                overflow: visible;

                &::before {
                    content: '';
                    position: absolute;
                    left: 20px;
                    top: 50%;
                    transform: translateY(-50%);
                    width: 90px;
                    height: 90px;
                    background-image: url('../images/decor/flag_of_europe.png');
                    background-size: contain;
                    background-repeat: no-repeat;
                    background-position: center;
                    pointer-events: none;

                    @include mq(laptop) {
                        // left: -36px;
                        // width: 20px;
                        // height: 20px;
                    }

                    @include mq(desktop) {
                        // left: -40px;
                        // width: 24px;
                        // height: 24px;
                    }
                }

                &::after {
                    content: '';
                    position: absolute;
                    right: 0;
                    top: 50%;
                    transform: translateY(-50%);
                    width: 180px;
                    height: 180px;
                    background-image: url('../images/decor/passport_of_rumuniia.png');
                    background-size: contain;
                    background-repeat: no-repeat;
                    background-position: center;
                    pointer-events: none;

                    @include mq(laptop) {
                        right: 10px;
                    }

                    @include mq(desktop) {
                    }
                }
            }

            @include mq(laptop) {
                padding: 40px 280px 40px 160px;
            }
        }
    }

    &__number {
        font-size: 32px;
        font-weight: 700;
        color: $color-akcent;
        opacity: 0.8; // Легкий акцент на номері
    }

    &__number--compact {
        font-size: 20px;
        font-weight: 500;
    }

    &__text {
        font-size: 14px;
        line-height: 1.5;
        color: $color-black;

        @include mq(laptop) {
            font-size: 16px;
        }

        @include mq(desktop) {
            font-size: 20px;
        }
    }

    &__accent--line {
        margin-top: 20px;
        padding: 40px 30px;
        border-radius: 16px;
        background-color: $color-akcent;
    }

    &__accent--text {
        font-size: 16px;
        font-weight: 400;
        line-height: 125%;
        color: $color-muted-text;
    }
}

.steps {
    &__list {
        position: relative;
        padding-bottom: 50px; // Місце для підказки

        @include mq(mobile-only) {
            // ТЕКСТ "Листайте"
            &::after {
                content: "Листайте";
                position: absolute;
                bottom: 10px;
                left: calc(80% + 20px); // Зсув, щоб дати місце стрілкам зліва
                transform: translateX(-50%);
                font-size: 11px;
                font-weight: 600;
                color: rgba($color-akcent, 0.6);
                text-transform: uppercase;
                letter-spacing: 0.1em;
                transition: opacity 0.3s ease;
            }

            // СТРІЛКИ (подвійний шеврон через content)
            &::before {
                content: "«"; // Використовуємо символ подвійної лапки як стрілки
                position: absolute;
                bottom: 8px;
                left: calc(80% - 35px);
                font-size: 20px;
                line-height: 1;
                color: $color-akcent;
                animation: doubleArrowPseudo 1.5s infinite ease-in-out;
                transition: opacity 0.3s ease;
            }

            // Приховування при свайпі
            &.is-hidden::before,
            &.is-hidden::after {
                opacity: 0;
                visibility: hidden;
            }
        }
    }
}

@keyframes doubleArrowPseudo {
    0% { transform: translateX(5px); opacity: 0; }
    50% { opacity: 1; }
    100% { transform: translateX(-10px); opacity: 0; }
}